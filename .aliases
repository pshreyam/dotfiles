# Python aliases
alias vc='python3 -m venv venv'
alias va='source ./venv/bin/activate'
alias vd='deactivate'
alias inst='pip3 install -r requirements.txt'
alias uppip='pip3 install --upgrade pip'
alias vca='vc && va && uppip'
alias vcai='vca && inst'

# Interactive command aliases
alias mv='mv -i'
alias cp='cp -i'
alias rm='rm -i'

# Get coloured output
alias diff='diff --color=auto'

# Override the default editor for editing config files
EDITOR='/usr/bin/nvim'

# Config files aliases
alias cb="$EDITOR ~/.config/bspwm/bspwmrc"
alias cs="$EDITOR ~/.config/sxhkd/sxhkdrc"
alias cpol="$EDITOR ~/.config/polybar/config"
alias cdun="$EDITOR ~/.config/dunst/dunstrc"
alias cpic="$EDITOR ~/.config/picom/picom.conf"
alias crof="$EDITOR ~/.config/rofi/config.rasi"
alias czat="$EDITOR ~/.config/zathura/zathurarc"
alias cnvi="$EDITOR ~/.config/nvim/init.vim"
alias cali="$EDITOR ~/.aliases"
alias cz="$EDITOR ~/.zshrc"
alias calac="$EDITOR ~/.config/alacritty/alacritty.yml"
alias bm="$EDITOR ~/.scripts/bookmarks/bookmarks.json"

# Aliases
alias v=$EDITOR
alias vi=$EDITOR
alias vim=$EDITOR
alias n='/usr/bin/nnn -de'
alias trash='send2trash'

# Directory navigation (go to directory) aliases
alias gr='cd ~/Downloads/repos'
alias gdc='cd ~/Documents'
alias gdn='cd ~/Downloads'

# Django aliases
alias rs='python3 manage.py runserver'
alias mi='python3 manage.py migrate'
alias mm='python3 manage.py makemigrations'
alias csu='python3 manage.py createsuperuser'

# Power options aliases
alias sd='poweroff'
alias rb='reboot'

# Replacement program aliases
alias ls='exa'
alias tree='exa --tree'
alias cat='bat'

# Manage dotfiles
function dotfiles() {
    /usr/bin/git --git-dir=$HOME/.dotfiles/ --work-tree=$HOME $@
}

# Change directory into the selected repository
function cr() {
    reply=$(echo "$(/bin/ls -1 ~/Downloads/repos)" | fzf --border=rounded --height=50% --layout=reverse --header="Choose Repository" --header-first --prompt="› " --pointer="➜")
    if [[ -z $reply ]];then
        echo "No repo selected!"
    else
        cd ~/Downloads/repos/$reply
    fi
}

# Get the absolute path of the selected file and copy it to the clipboard
function path() {
    if [[ $# == 0 ]];then
        search_path=`pwd`
    else
        search_path=$1
    fi

    [[ ! -d $search_path ]] && echo "Given path not a directory!" && return 0

    reply=$(echo "$(/bin/ls -1 ${search_path})" | fzf --border=rounded --height=50% --layout=reverse --header="Choose File" --header-first --prompt="› " --pointer="➜")

    [[ -z $reply ]] && echo "No file selected!" && return 0

    absolute_path="$search_path/$reply"
    echo $absolute_path

    if [[ -f "/usr/bin/xclip" ]];then
        echo -n $absolute_path | xclip -selection clipboard
        notify-send "Path copied" "Absolute path copied to the clipboard!"
    else
        notify-send "'xclip' not installed" "Install xclip to copy the absolute path to your clipboard!"
    fi
}
